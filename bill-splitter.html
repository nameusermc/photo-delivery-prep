<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-0BSK4FMVEZ"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-0BSK4FMVEZ');
    </script>
    <meta name="p:domain_verify" content="22dded8e603afa3dc4253ce1ac4a6248" />
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Free Expense Splitter - Split bills fairly among friends and roommates. Handle uneven splits, add individual items, include tax and tip for hassle-free group payments.">
    <meta name="keywords" content="bill splitter, expense splitter, split bill calculator, roommate expense tracker, group payment calculator">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://freemicrotools.app/bill-splitter.html">
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    <title>Expense Splitter ‚Äî Free Bill Splitting Tool | Free Micro Tools</title>
    

    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="Free Micro Web Tools">
    <meta property="og:title" content="Expense Splitter ‚Äî Free Bill Splitting Tool | Free Micro Tools">
    <meta property="og:description" content="Free Expense Splitter - Split bills fairly among friends and roommates. Handle uneven splits, add individual items, include tax and tip for hassle-free group payments.">
    <meta property="og:url" content="https://freemicrotools.app/bill-splitter.html">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Expense Splitter ‚Äî Free Bill Splitting Tool | Free Micro Tools">
    <meta name="twitter:description" content="Free Expense Splitter - Split bills fairly among friends and roommates. Handle uneven splits, add individual items, include tax and tip for hassle-free group payments.">

    <!-- Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "SoftwareApplication",
        "name": "Expense Splitter",
        "description": "Split bills and expenses fairly among friends with customizable amounts",
        "url": "https://freemicrotools.app/bill-splitter.html",
        "applicationCategory": "FinanceApplication",
        "operatingSystem": "Web",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD"
        }
    }
    </script>
    <style>
        /* ========== CSS Reset & Base Styles ========== */
        *, *::before, *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        :root {
            --primary: #ea580c;
            --primary-dark: #c2410c;
            --primary-light: #ffedd5;
            --success: #10b981;
            --bg: #fff7ed;
            --card-bg: #ffffff;
            --text: #1e293b;
            --text-muted: #64748b;
            --border: #e2e8f0;
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            background: var(--bg);
            color: var(--text);
            line-height: 1.6;
            min-height: 100vh;
            padding: 1rem;
        }

        /* ========== Layout ========== */
        .container {
            max-width: 520px;
            margin: 0 auto;
        }

        /* ========== Card Component ========== */
        .card {
            background: var(--card-bg);
            border-radius: 12px;
            box-shadow: var(--shadow);
            padding: 1.5rem;
            margin-bottom: 1rem;
        }

        .card-title {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            color: var(--primary);
        }

        .card-subtitle {
            color: var(--text-muted);
            font-size: 0.875rem;
            margin-bottom: 1.5rem;
        }

        /* ========== Form Elements ========== */
        .form-group {
            margin-bottom: 1.25rem;
        }

        label {
            display: block;
            font-weight: 600;
            margin-bottom: 0.5rem;
            font-size: 0.875rem;
        }

        .input-group {
            display: flex;
            align-items: center;
        }

        .input-prefix {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0.875rem 0.75rem;
            background: #f8fafc;
            border: 2px solid var(--border);
            border-right: none;
            border-radius: 8px 0 0 8px;
            color: var(--text-muted);
            font-weight: 600;
            font-size: 1rem;
        }

        .input-group input {
            border-radius: 0 8px 8px 0;
        }

        input[type="number"] {
            width: 100%;
            padding: 0.875rem 1rem;
            border: 2px solid var(--border);
            border-radius: 8px;
            font-size: 1rem;
            font-family: inherit;
            transition: border-color 0.2s, box-shadow 0.2s;
            background: white;
            -moz-appearance: textfield;
        }

        input[type="number"]::-webkit-outer-spin-button,
        input[type="number"]::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }

        input[type="number"]:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(234, 88, 12, 0.1);
        }

        .input-group input:focus {
            position: relative;
            z-index: 1;
        }

        .input-group:focus-within .input-prefix {
            border-color: var(--primary);
        }

        .input-hint {
            font-size: 0.75rem;
            color: var(--text-muted);
            margin-top: 0.25rem;
        }

        /* ========== Split Mode Toggle ========== */
        .split-mode-toggle {
            display: flex;
            gap: 0.5rem;
            padding: 0.25rem;
            background: #f1f5f9;
            border-radius: 8px;
            margin-bottom: 1.25rem;
        }

        .split-mode-btn {
            flex: 1;
            padding: 0.75rem 1rem;
            border: none;
            background: transparent;
            border-radius: 6px;
            font-size: 0.875rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.375rem;
        }

        .split-mode-btn:hover {
            background: white;
        }

        .split-mode-btn.active {
            background: white;
            color: var(--primary);
            box-shadow: var(--shadow);
        }

        /* ========== People Input Section ========== */
        .people-control {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .people-btn {
            width: 44px;
            height: 44px;
            border: 2px solid var(--border);
            background: white;
            border-radius: 8px;
            font-size: 1.25rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .people-btn:hover {
            border-color: var(--primary);
            background: var(--primary-light);
        }

        .people-display {
            text-align: center;
        }

        .people-count {
            font-size: 1.75rem;
            font-weight: 800;
            color: var(--primary);
        }

        .people-label {
            font-size: 0.75rem;
            color: var(--text-muted);
        }

        /* ========== Custom Split Section ========== */
        .custom-split-section {
            display: none;
            margin-top: 1rem;
            padding: 1rem;
            background: #f8fafc;
            border-radius: 8px;
        }

        .custom-split-section.show {
            display: block;
        }

        .custom-split-title {
            font-weight: 600;
            font-size: 0.875rem;
            margin-bottom: 0.75rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .person-row {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 0.5rem;
        }

        .person-name {
            flex: 1;
            min-width: 0;
        }

        .person-name input {
            width: 100%;
            padding: 0.625rem 0.75rem;
            border: 2px solid var(--border);
            border-radius: 6px;
            font-size: 0.875rem;
        }

        .person-name input:focus {
            outline: none;
            border-color: var(--primary);
        }

        .person-amount {
            width: 110px;
        }

        .person-amount input {
            width: 100%;
            padding: 0.625rem 0.75rem;
            border: 2px solid var(--border);
            border-radius: 6px;
            font-size: 0.875rem;
            text-align: right;
        }

        .person-amount input:focus {
            outline: none;
            border-color: var(--primary);
        }

        .remaining-display {
            margin-top: 0.75rem;
            padding: 0.625rem;
            background: white;
            border-radius: 6px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.875rem;
        }

        .remaining-label {
            color: var(--text-muted);
        }

        .remaining-value {
            font-weight: 700;
        }

        .remaining-value.over {
            color: #dc2626;
        }

        .remaining-value.under {
            color: #059669;
        }

        .remaining-value.zero {
            color: var(--text);
        }

        /* ========== Calculate Button ========== */
        .btn-calculate {
            width: 100%;
            padding: 1rem;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.2s, transform 0.1s;
        }

        .btn-calculate:hover {
            background: var(--primary-dark);
        }

        .btn-calculate:active {
            transform: scale(0.98);
        }

        /* ========== Results Section ========== */
        .results {
            display: none;
            margin-top: 1.5rem;
            padding-top: 1.5rem;
            border-top: 2px solid var(--border);
        }

        .results.show {
            display: block;
        }

        .result-highlight {
            background: linear-gradient(135deg, var(--primary), var(--success));
            color: white;
            padding: 1.25rem;
            border-radius: 8px;
            text-align: center;
            margin-bottom: 1rem;
        }

        .result-highlight .result-label {
            color: rgba(255, 255, 255, 0.85);
            font-size: 0.875rem;
            margin-bottom: 0.25rem;
        }

        .result-highlight .result-value {
            font-size: 2.25rem;
            font-weight: 800;
            line-height: 1.2;
        }

        .result-highlight .result-sub {
            font-size: 0.875rem;
            opacity: 0.9;
            margin-top: 0.25rem;
        }

        /* ========== Split Breakdown ========== */
        .split-breakdown {
            background: #f8fafc;
            border-radius: 8px;
            overflow: hidden;
        }

        .split-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.75rem 1rem;
            border-bottom: 1px solid var(--border);
        }

        .split-row:last-child {
            border-bottom: none;
        }

        .split-person {
            display: flex;
            align-items: center;
            gap: 0.625rem;
        }

        .split-avatar {
            width: 32px;
            height: 32px;
            background: var(--primary-light);
            color: var(--primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 0.8125rem;
        }

        .split-name {
            font-weight: 600;
            font-size: 0.9375rem;
        }

        .split-amount {
            font-weight: 700;
            font-size: 1rem;
            color: var(--primary);
        }

        /* ========== Summary Row ========== */
        .summary-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.625rem 0;
            font-size: 0.875rem;
        }

        .summary-row.total {
            padding-top: 0.75rem;
            margin-top: 0.5rem;
            border-top: 2px solid var(--border);
            font-weight: 700;
        }

        .summary-label {
            color: var(--text-muted);
        }

        .summary-section {
            margin-top: 1rem;
            padding: 1rem;
            background: white;
            border-radius: 8px;
            border: 1px solid var(--border);
        }

        /* ========== Instructions Section ========== */
        .instructions {
            background: #f1f5f9;
            border-radius: 8px;
            padding: 1rem;
            margin-top: 1rem;
        }

        .instructions h3 {
            font-size: 0.875rem;
            margin-bottom: 0.5rem;
            color: var(--text);
        }

        .instructions ul {
            margin-left: 1.25rem;
            font-size: 0.8125rem;
            color: var(--text-muted);
        }

        .instructions li {
            margin-bottom: 0.25rem;
        }

        /* ========== Error State ========== */
        .error {
            border-color: #ef4444 !important;
        }

        .error-message {
            color: #ef4444;
            font-size: 0.75rem;
            margin-top: 0.25rem;
            display: none;
        }

        .error-message.show {
            display: block;
        }

        /* ========== Toast ========== */
        .toast {
            position: fixed;
            bottom: 2rem;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: var(--text);
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            font-size: 0.875rem;
            font-weight: 600;
            opacity: 0;
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .toast.show {
            transform: translateX(-50%) translateY(0);
            opacity: 1;
        }

        /* ========== Footer ========== */
        footer {
            text-align: center;
            padding: 1.5rem 1rem;
            color: var(--text-muted);
            font-size: 0.75rem;
        }

        .footer-links {
            display: flex;
            justify-content: center;
            gap: 1.5rem;
            margin-top: 0.75rem;
        }

        .footer-links a {
            color: var(--text-muted);
            text-decoration: none;
        }

        .footer-links a:hover {
            color: var(--primary);
        }

        /* ========== Tool Description ========== */
        .tool-description {
            background: linear-gradient(135deg, #fff7ed 0%, #ffedd5 100%);
            border-left: 4px solid var(--primary);
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 1rem;
            font-size: 0.875rem;
        }

        .tool-description p {
            margin: 0;
            color: var(--text);
        }

        /* ========== Responsive ========== */
        @media (max-width: 480px) {
            .person-row {
                flex-direction: column;
                align-items: stretch;
            }

            .person-amount {
                width: 100%;
            }

            .split-mode-btn {
                padding: 0.625rem 0.5rem;
                font-size: 0.8125rem;
            }
        }

        </style>
</head>
<body>
    <div class="container">
        <a href="index.html">‚Üê Back to Tools</a>
<!-- Tool Description -->
        <div class="tool-description">
            <p>Split bills and expenses easily. Divide costs evenly or set custom amounts per person for group dinners, trips, or shared expenses.</p>
        </div>

        <!-- Main Tool Card -->
        <main class="card">
            <h1 class="card-title">üí∏ Bill Splitter</h1>
            <p class="card-subtitle">Split expenses fairly</p>

            <form id="splitForm" novalidate>
                <!-- Total Amount -->
                <div class="form-group">
                    <label for="totalAmount">Total Amount</label>
                    <div class="input-group">
                        <span class="input-prefix">$</span>
                        <input 
                            type="number" 
                            id="totalAmount" 
                            placeholder="0.00"
                            min="0"
                            step="0.01"
                            inputmode="decimal"
                            required
                        >
                    </div>
                    <span id="amountError" class="error-message">Please enter a valid amount</span>
                </div>

                <!-- Split Mode Toggle -->
                <div class="split-mode-toggle">
                    <button type="button" class="split-mode-btn active" data-mode="even">
                        <span>‚öñÔ∏è</span> Even Split
                    </button>
                    <button type="button" class="split-mode-btn" data-mode="custom">
                        <span>‚úèÔ∏è</span> Custom Split
                    </button>
                </div>

                <!-- Number of People (Even Split) -->
                <div class="form-group" id="evenSplitSection">
                    <label>Number of People</label>
                    <div class="people-control">
                        <button type="button" class="people-btn" id="decreaseBtn">‚àí</button>
                        <div class="people-display">
                            <div class="people-count" id="peopleCount">2</div>
                            <div class="people-label">people</div>
                        </div>
                        <button type="button" class="people-btn" id="increaseBtn">+</button>
                    </div>
                </div>

                <!-- Custom Split Section -->
                <div class="custom-split-section" id="customSplitSection">
                    <div class="custom-split-title">
                        <span>üë•</span> Enter amounts per person
                    </div>
                    <div id="personRows">
                        <!-- Person rows will be generated here -->
                    </div>
                    <div class="remaining-display">
                        <span class="remaining-label">Remaining:</span>
                        <span class="remaining-value zero" id="remainingAmount">$0.00</span>
                    </div>
                    <button type="button" class="people-btn" id="addPersonBtn" style="width: 100%; margin-top: 0.75rem; border-radius: 6px;">+ Add Person</button>
                </div>

                <!-- Calculate Button -->
                <button type="submit" class="btn-calculate">Calculate Split</button>
            </form>

            <!-- Results Section -->
            <div id="results" class="results">
                <!-- Main Result (for even split) -->
                <div class="result-highlight" id="evenResultHighlight">
                    <div class="result-label">Each Person Pays</div>
                    <div class="result-value" id="resultPerPerson">$0.00</div>
                    <div class="result-sub" id="resultPeopleCount">2 people splitting</div>
                </div>

                <!-- Split Breakdown -->
                <div class="split-breakdown" id="splitBreakdown">
                    <!-- Person rows will be generated here -->
                </div>

                <!-- Summary -->
                <div class="summary-section">
                    <div class="summary-row">
                        <span class="summary-label">Total Bill</span>
                        <span id="summaryTotal">$0.00</span>
                    </div>
                    <div class="summary-row">
                        <span class="summary-label">Split Between</span>
                        <span id="summarySplit">2 people</span>
                    </div>
                    <div class="summary-row total">
                        <span>Total Collected</span>
                        <span id="summaryCollected">$0.00</span>
                    </div>
                </div>
            </div>
<!-- Usage Instructions --><div class="instructions">
                <h3>üìñ How to Use</h3>
                <ul>
                    <li>Enter the <strong>total amount</strong> to split</li>
                    <li>Choose <strong>Even Split</strong> or <strong>Custom Split</strong></li>
                    <li>For even: select the number of people</li>
                    <li>For custom: enter names and amounts per person</li>
                    <li>Click <strong>Calculate</strong> to see the breakdown</li>
                </ul>
            </div>
        </main>
<footer>
            <p>¬© 2026 Free Micro Web Tools. All tools are free to use.</p>
            <div class="footer-links">
                <a href="about.html">About</a>
                <a href="contact.html">Contact</a>
                <a href="privacy.html">Privacy</a>
                <a href="terms.html">Terms</a>
            </div>
        </footer>

        <!-- Toast Notification -->
        <div class="toast" id="toast">Message</div>
    </div>

    <script>
        /**
         * Expense / Bill Splitter
         * Split bills evenly or with custom amounts
         * Pure vanilla JavaScript implementation
         */
        (function() {
            'use strict';

            // DOM References
            const form = document.getElementById('splitForm');
            const totalAmountInput = document.getElementById('totalAmount');
            const amountError = document.getElementById('amountError');
            const splitModeBtns = document.querySelectorAll('.split-mode-btn');
            const evenSplitSection = document.getElementById('evenSplitSection');
            const customSplitSection = document.getElementById('customSplitSection');
            const peopleCountDisplay = document.getElementById('peopleCount');
            const decreaseBtn = document.getElementById('decreaseBtn');
            const increaseBtn = document.getElementById('increaseBtn');
            const personRows = document.getElementById('personRows');
            const addPersonBtn = document.getElementById('addPersonBtn');
            const remainingAmountDisplay = document.getElementById('remainingAmount');
            const resultsSection = document.getElementById('results');
            const evenResultHighlight = document.getElementById('evenResultHighlight');
            const splitBreakdown = document.getElementById('splitBreakdown');
            const toast = document.getElementById('toast');

            // Result elements
            const resultPerPerson = document.getElementById('resultPerPerson');
            const resultPeopleCount = document.getElementById('resultPeopleCount');
            const summaryTotal = document.getElementById('summaryTotal');
            const summarySplit = document.getElementById('summarySplit');
            const summaryCollected = document.getElementById('summaryCollected');

            // State
            let splitMode = 'even';
            let peopleCount = 2;
            let customPeople = [
                { name: 'Person 1', amount: 0 },
                { name: 'Person 2', amount: 0 }
            ];

            /**
             * Format number as currency
             * @param {number} amount - Amount to format
             * @returns {string} Formatted currency string
             */
            function formatCurrency(amount) {
                return '$' + amount.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g, ',');
            }

            /**
             * Show toast notification
             * @param {string} message - Message to display
             */
            function showToast(message) {
                toast.textContent = message;
                toast.classList.add('show');
                setTimeout(() => toast.classList.remove('show'), 2000);
            }

            /**
             * Toggle error state
             * @param {HTMLElement} input - Input element
             * @param {HTMLElement} errorEl - Error element
             * @param {boolean} show - Show or hide error
             */
            function toggleError(input, errorEl, show) {
                if (show) {
                    input.classList.add('error');
                    errorEl.classList.add('show');
                } else {
                    input.classList.remove('error');
                    errorEl.classList.remove('show');
                }
            }

            /**
             * Render custom person rows
             */
            function renderPersonRows() {
                personRows.innerHTML = '';
                customPeople.forEach((person, index) => {
                    const row = document.createElement('div');
                    row.className = 'person-row';
                    row.innerHTML = `
                        <div class="person-name">
                            <input 
                                type="text" 
                                placeholder="Name" 
                                value="${person.name}"
                                data-index="${index}"
                                class="name-input"
                            >
                        </div>
                        <div class="person-amount">
                            <input 
                                type="number" 
                                placeholder="0.00" 
                                value="${person.amount || ''}"
                                min="0"
                                step="0.01"
                                data-index="${index}"
                                class="amount-input"
                            >
                        </div>
                        ${customPeople.length > 2 ? `
                            <button type="button" class="people-btn remove-person-btn" data-index="${index}" style="width: 36px; height: 36px; font-size: 1rem;">√ó</button>
                        ` : ''}
                    `;
                    personRows.appendChild(row);
                });

                // Add event listeners
                document.querySelectorAll('.name-input').forEach(input => {
                    input.addEventListener('input', (e) => {
                        const index = parseInt(e.target.dataset.index);
                        customPeople[index].name = e.target.value || `Person ${index + 1}`;
                    });
                });

                document.querySelectorAll('.amount-input').forEach(input => {
                    input.addEventListener('input', (e) => {
                        const index = parseInt(e.target.dataset.index);
                        customPeople[index].amount = parseFloat(e.target.value) || 0;
                        updateRemaining();
                    });
                });

                document.querySelectorAll('.remove-person-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        const index = parseInt(e.target.dataset.index);
                        customPeople.splice(index, 1);
                        renderPersonRows();
                        updateRemaining();
                    });
                });

                updateRemaining();
            }

            /**
             * Update remaining amount display
             */
            function updateRemaining() {
                const total = parseFloat(totalAmountInput.value) || 0;
                const assigned = customPeople.reduce((sum, p) => sum + (p.amount || 0), 0);
                const remaining = total - assigned;

                remainingAmountDisplay.textContent = formatCurrency(Math.abs(remaining));
                
                if (remaining > 0.01) {
                    remainingAmountDisplay.className = 'remaining-value under';
                    remainingAmountDisplay.textContent = formatCurrency(remaining) + ' left';
                } else if (remaining < -0.01) {
                    remainingAmountDisplay.className = 'remaining-value over';
                    remainingAmountDisplay.textContent = formatCurrency(Math.abs(remaining)) + ' over';
                } else {
                    remainingAmountDisplay.className = 'remaining-value zero';
                    remainingAmountDisplay.textContent = '‚úì Balanced';
                }
            }

            /**
             * Switch split mode
             * @param {string} mode - 'even' or 'custom'
             */
            function switchMode(mode) {
                splitMode = mode;
                splitModeBtns.forEach(btn => {
                    btn.classList.toggle('active', btn.dataset.mode === mode);
                });

                if (mode === 'even') {
                    evenSplitSection.style.display = 'block';
                    customSplitSection.classList.remove('show');
                } else {
                    evenSplitSection.style.display = 'none';
                    customSplitSection.classList.add('show');
                    renderPersonRows();
                }
            }

            /**
             * Validate inputs
             * @returns {boolean} True if valid
             */
            function validateInputs() {
                const total = parseFloat(totalAmountInput.value);
                
                if (isNaN(total) || total <= 0) {
                    toggleError(totalAmountInput, amountError, true);
                    return false;
                }
                
                toggleError(totalAmountInput, amountError, false);
                return true;
            }

            /**
             * Calculate and display results
             */
            function calculate() {
                const total = parseFloat(totalAmountInput.value) || 0;

                if (splitMode === 'even') {
                    const perPerson = total / peopleCount;
                    
                    // Update highlight
                    evenResultHighlight.style.display = 'block';
                    resultPerPerson.textContent = formatCurrency(perPerson);
                    resultPeopleCount.textContent = `${peopleCount} ${peopleCount === 1 ? 'person' : 'people'} splitting`;

                    // Generate breakdown
                    splitBreakdown.innerHTML = '';
                    for (let i = 0; i < peopleCount; i++) {
                        const row = document.createElement('div');
                        row.className = 'split-row';
                        row.innerHTML = `
                            <div class="split-person">
                                <div class="split-avatar">${i + 1}</div>
                                <span class="split-name">Person ${i + 1}</span>
                            </div>
                            <span class="split-amount">${formatCurrency(perPerson)}</span>
                        `;
                        splitBreakdown.appendChild(row);
                    }

                    summarySplit.textContent = `${peopleCount} people (even)`;
                    summaryCollected.textContent = formatCurrency(perPerson * peopleCount);
                } else {
                    // Custom split
                    evenResultHighlight.style.display = 'none';

                    // Generate breakdown
                    splitBreakdown.innerHTML = '';
                    let totalCollected = 0;

                    customPeople.forEach((person, index) => {
                        totalCollected += person.amount || 0;
                        const row = document.createElement('div');
                        row.className = 'split-row';
                        const initial = person.name.charAt(0).toUpperCase();
                        row.innerHTML = `
                            <div class="split-person">
                                <div class="split-avatar">${initial}</div>
                                <span class="split-name">${person.name}</span>
                            </div>
                            <span class="split-amount">${formatCurrency(person.amount || 0)}</span>
                        `;
                        splitBreakdown.appendChild(row);
                    });

                    summarySplit.textContent = `${customPeople.length} people (custom)`;
                    summaryCollected.textContent = formatCurrency(totalCollected);
                }

                summaryTotal.textContent = formatCurrency(total);
                resultsSection.classList.add('show');
                // GA4: Track tool usage
                if (window.trackToolUsed) trackToolUsed(participants.length, true, true);

                // Scroll to results
                setTimeout(() => {
                    resultsSection.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                }, 100);
            }

            /**
             * Handle form submission
             * @param {Event} e - Submit event
             */
            function handleSubmit(e) {
                e.preventDefault();
                if (validateInputs()) {
                    calculate();
                }
            }

            // Event Listeners
            form.addEventListener('submit', handleSubmit);

            // Split mode toggle
            splitModeBtns.forEach(btn => {
                btn.addEventListener('click', () => switchMode(btn.dataset.mode));
            });

            // People count controls
            decreaseBtn.addEventListener('click', () => {
                if (peopleCount > 1) {
                    peopleCount--;
                    peopleCountDisplay.textContent = peopleCount;
                }
            });

            increaseBtn.addEventListener('click', () => {
                if (peopleCount < 50) {
                    peopleCount++;
                    peopleCountDisplay.textContent = peopleCount;
                }
            });

            // Add person button
            addPersonBtn.addEventListener('click', () => {
                if (customPeople.length < 20) {
                    customPeople.push({ name: `Person ${customPeople.length + 1}`, amount: 0 });
                    renderPersonRows();
                } else {
                    showToast('Maximum 20 people');
                }
            });

            // Clear error on input
            totalAmountInput.addEventListener('input', () => {
                toggleError(totalAmountInput, amountError, false);
                if (splitMode === 'custom') {
                    updateRemaining();
                }
            });

            // Initialize
            renderPersonRows();

        })();
    </script>

    <!-- GA4 Event Tracking -->
    <script>
        (function() {
            // Track tool page landing
            gtag('event', 'tool_landed', {
                'tool_name': 'Expense Splitter'
            });
            
            // Track tool usage
            function trackToolUsed(inputCount, customValuesUsed, resultGenerated) {
                gtag('event', 'tool_used', {
                    'tool_name': 'Expense Splitter',
                    'input_count': inputCount || 0,
                    'custom_values_used': customValuesUsed || false,
                    'result_generated': resultGenerated || false
                });
            }
            
            // Expose tracking function globally for this tool
            window.trackToolUsed = trackToolUsed;
        })();
    </script>
</body>
</html>
