<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-0BSK4FMVEZ"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-0BSK4FMVEZ');
    </script>
    <meta name="p:domain_verify" content="22dded8e603afa3dc4253ce1ac4a6248" />
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Free Credit Card Payoff Calculator - See how long to pay off your balance and total interest paid. Discover how extra payments save money with detailed payment schedules.">
    <meta name="keywords" content="credit card payoff calculator, debt calculator, interest calculator, payment schedule, debt payoff planner">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://freemicrotools.app/credit-card-payoff.html">
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    <title>Credit Card Payoff Calculator ‚Äî Free Debt Payoff Tool | Free Micro Tools</title>
    

    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="Free Micro Web Tools">
    <meta property="og:title" content="Credit Card Payoff Calculator ‚Äî Free Debt Payoff Tool | Free Micro Tools">
    <meta property="og:description" content="Free Credit Card Payoff Calculator - See how long to pay off your balance and total interest paid. Discover how extra payments save money with detailed payment schedules.">
    <meta property="og:url" content="https://freemicrotools.app/credit-card-payoff.html">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Credit Card Payoff Calculator ‚Äî Free Debt Payoff Tool | Free Micro Tools">
    <meta name="twitter:description" content="Free Credit Card Payoff Calculator - See how long to pay off your balance and total interest paid. Discover how extra payments save money with detailed payment schedules.">

    <!-- Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "SoftwareApplication",
        "name": "Credit Card Payoff Calculator",
        "description": "Calculate time to pay off credit card debt and total interest with payment schedules",
        "url": "https://freemicrotools.app/credit-card-payoff.html",
        "applicationCategory": "FinanceApplication",
        "operatingSystem": "Web",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD"
        }
    }
    </script>
    <style>
        /* ========== CSS Reset & Base Styles ========== */
        *, *::before, *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        :root {
            --primary: #0d9488;
            --primary-dark: #0f766e;
            --primary-light: #ccfbf1;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --bg: #f0fdfa;
            --card-bg: #ffffff;
            --text: #1e293b;
            --text-muted: #64748b;
            --border: #e2e8f0;
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            background: var(--bg);
            color: var(--text);
            line-height: 1.6;
            min-height: 100vh;
            padding: 1rem;
        }

        /* ========== Layout ========== */
        .container {
            max-width: 560px;
            margin: 0 auto;
        }

        /* ========== Card Component ========== */
        .card {
            background: var(--card-bg);
            border-radius: 12px;
            box-shadow: var(--shadow);
            padding: 1.5rem;
            margin-bottom: 1rem;
        }

        .card-title {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            color: var(--primary);
        }

        .card-subtitle {
            color: var(--text-muted);
            font-size: 0.875rem;
            margin-bottom: 1.5rem;
        }

        /* ========== Form Elements ========== */
        .form-group {
            margin-bottom: 1.25rem;
        }

        label {
            display: block;
            font-weight: 600;
            margin-bottom: 0.5rem;
            font-size: 0.875rem;
        }

        .input-wrapper {
            position: relative;
        }

        .input-prefix,
        .input-suffix {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-muted);
            font-weight: 500;
            pointer-events: none;
        }

        .input-prefix {
            left: 1rem;
        }

        .input-suffix {
            right: 1rem;
        }

        input[type="number"] {
            width: 100%;
            padding: 0.875rem 1rem;
            border: 2px solid var(--border);
            border-radius: 8px;
            font-size: 1rem;
            font-family: inherit;
            transition: border-color 0.2s, box-shadow 0.2s;
            background: white;
        }

        input[type="number"]:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(13, 148, 136, 0.1);
        }

        input.has-prefix {
            padding-left: 2rem;
        }

        input.has-suffix {
            padding-right: 2.5rem;
        }

        input[type="number"]::-webkit-outer-spin-button,
        input[type="number"]::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }

        input[type="number"] {
            -moz-appearance: textfield;
        }

        .input-hint {
            font-size: 0.75rem;
            color: var(--text-muted);
            margin-top: 0.375rem;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0.75rem;
        }

        /* ========== Calculate Button ========== */
        .btn-calculate {
            width: 100%;
            padding: 1rem;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.2s, transform 0.1s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .btn-calculate:hover {
            background: var(--primary-dark);
        }

        .btn-calculate:active {
            transform: scale(0.98);
        }

        /* ========== Results Section ========== */
        .results {
            display: none;
            margin-top: 1.5rem;
            padding-top: 1.5rem;
            border-top: 2px solid var(--border);
        }

        .results.show {
            display: block;
        }

        /* ========== Result Cards ========== */
        .result-hero {
            background: linear-gradient(135deg, var(--primary), var(--success));
            color: white;
            padding: 1.5rem;
            border-radius: 12px;
            text-align: center;
            margin-bottom: 1rem;
        }

        .result-hero-label {
            font-size: 0.875rem;
            opacity: 0.9;
            margin-bottom: 0.25rem;
        }

        .result-hero-value {
            font-size: 2.5rem;
            font-weight: 800;
            line-height: 1.2;
        }

        .result-hero-sub {
            font-size: 0.9375rem;
            opacity: 0.9;
            margin-top: 0.25rem;
        }

        .results-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 0.75rem;
            margin-bottom: 1rem;
        }

        .result-card {
            background: #f8fafc;
            border-radius: 10px;
            padding: 1rem;
            text-align: center;
        }

        .result-card.highlight {
            background: #fef3c7;
            border: 2px solid #fcd34d;
        }

        .result-card.danger {
            background: #fee2e2;
            border: 2px solid #fca5a5;
        }

        .result-card-value {
            font-size: 1.375rem;
            font-weight: 700;
            color: var(--primary);
            line-height: 1.2;
        }

        .result-card.highlight .result-card-value {
            color: #b45309;
        }

        .result-card.danger .result-card-value {
            color: #dc2626;
        }

        .result-card-label {
            font-size: 0.6875rem;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.03em;
            margin-top: 0.25rem;
        }

        /* ========== Comparison Box ========== */
        .comparison-box {
            background: var(--primary-light);
            border-radius: 10px;
            padding: 1rem;
            margin-bottom: 1rem;
        }

        .comparison-title {
            font-weight: 700;
            font-size: 0.875rem;
            color: var(--primary-dark);
            margin-bottom: 0.75rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .comparison-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.5rem 0;
            border-bottom: 1px solid rgba(13, 148, 136, 0.2);
            font-size: 0.875rem;
        }

        .comparison-row:last-child {
            border-bottom: none;
        }

        .comparison-label {
            color: var(--text);
        }

        .comparison-value {
            font-weight: 700;
            color: var(--primary-dark);
        }

        .comparison-value.savings {
            color: var(--success);
        }

        /* ========== Payment Schedule ========== */
        .schedule-toggle {
            width: 100%;
            padding: 0.75rem;
            background: #f1f5f9;
            border: 2px solid var(--border);
            border-radius: 8px;
            font-size: 0.875rem;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            transition: all 0.2s;
        }

        .schedule-toggle:hover {
            background: #e2e8f0;
        }

        .schedule-toggle .arrow {
            transition: transform 0.2s;
        }

        .schedule-toggle.open .arrow {
            transform: rotate(180deg);
        }

        .schedule-container {
            display: none;
            margin-top: 0.75rem;
            max-height: 300px;
            overflow-y: auto;
            border: 2px solid var(--border);
            border-radius: 8px;
        }

        .schedule-container.show {
            display: block;
        }

        .schedule-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.75rem;
        }

        .schedule-table th {
            background: #f8fafc;
            padding: 0.625rem 0.5rem;
            text-align: right;
            font-weight: 600;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.03em;
            position: sticky;
            top: 0;
        }

        .schedule-table th:first-child {
            text-align: left;
        }

        .schedule-table td {
            padding: 0.5rem;
            text-align: right;
            border-bottom: 1px solid var(--border);
        }

        .schedule-table td:first-child {
            text-align: left;
            color: var(--text-muted);
        }

        .schedule-table tr:last-child td {
            border-bottom: none;
        }

        .schedule-table tr:hover {
            background: #f8fafc;
        }

        /* ========== Warning Box ========== */
        .warning-box {
            background: #fef3c7;
            border-left: 4px solid #f59e0b;
            border-radius: 0 8px 8px 0;
            padding: 0.875rem 1rem;
            margin-bottom: 1rem;
            display: flex;
            align-items: flex-start;
            gap: 0.625rem;
            font-size: 0.8125rem;
        }

        .warning-box.error {
            background: #fee2e2;
            border-left-color: #ef4444;
        }

        .warning-icon {
            flex-shrink: 0;
            font-size: 1rem;
        }

        /* ========== Instructions Section ========== */
        .instructions {
            background: #f1f5f9;
            border-radius: 8px;
            padding: 1rem;
            margin-top: 1rem;
        }

        .instructions h3 {
            font-size: 0.875rem;
            margin-bottom: 0.5rem;
            color: var(--text);
        }

        .instructions ul {
            margin-left: 1.25rem;
            font-size: 0.8125rem;
            color: var(--text-muted);
        }

        .instructions li {
            margin-bottom: 0.25rem;
        }

        /* ========== Footer ========== */
        footer {
            text-align: center;
            padding: 1.5rem 1rem;
            color: var(--text-muted);
            font-size: 0.75rem;
        }

        .footer-links {
            display: flex;
            justify-content: center;
            gap: 1.5rem;
            margin-top: 0.75rem;
        }

        .footer-links a {
            color: var(--text-muted);
            text-decoration: none;
        }

        .footer-links a:hover {
            color: var(--primary);
        }

        /* ========== Tool Description ========== */
        .tool-description {
            background: linear-gradient(135deg, #f0fdfa 0%, #ccfbf1 100%);
            border-left: 4px solid var(--primary);
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 1rem;
            font-size: 0.875rem;
        }

        .tool-description p {
            margin: 0;
            color: var(--text);
        }

        /* ========== Responsive ========== */
        @media (max-width: 480px) {
            .form-row {
                grid-template-columns: 1fr;
            }

            .results-grid {
                grid-template-columns: 1fr 1fr;
            }

            .result-hero-value {
                font-size: 2rem;
            }

            .schedule-table {
                font-size: 0.6875rem;
            }
        }

        </style>
</head>
<body>
    <div class="container">
        <a href="index.html">‚Üê Back to Tools</a>
<!-- Tool Description -->
        <div class="tool-description">
            <p>Calculate how long it will take to pay off your credit card and see how much you'll pay in interest. Add extra payments to see potential savings.</p>
        </div>

        <!-- Main Tool Card -->
        <main class="card">
            <h1 class="card-title">üí≥ Credit Card Payoff Calculator</h1>
            <p class="card-subtitle">See your path to debt freedom</p>

            <form id="payoffForm" novalidate>
                <div class="form-group">
                    <label for="balance">Current Balance</label>
                    <div class="input-wrapper">
                        <span class="input-prefix">$</span>
                        <input 
                            type="number" 
                            id="balance" 
                            class="has-prefix"
                            placeholder="5000"
                            min="1"
                            max="1000000"
                            step="0.01"
                            required
                        >
                    </div>
                    <div class="input-hint">The total amount you currently owe</div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="apr">Interest Rate (APR)</label>
                        <div class="input-wrapper">
                            <input 
                                type="number" 
                                id="apr" 
                                class="has-suffix"
                                placeholder="19.99"
                                min="0"
                                max="99.99"
                                step="0.01"
                                required
                            >
                            <span class="input-suffix">%</span>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="minPayment">Minimum Payment</label>
                        <div class="input-wrapper">
                            <span class="input-prefix">$</span>
                            <input 
                                type="number" 
                                id="minPayment" 
                                class="has-prefix"
                                placeholder="100"
                                min="1"
                                max="100000"
                                step="0.01"
                                required
                            >
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label for="extraPayment">Extra Monthly Payment (optional)</label>
                    <div class="input-wrapper">
                        <span class="input-prefix">$</span>
                        <input 
                            type="number" 
                            id="extraPayment" 
                            class="has-prefix"
                            placeholder="0"
                            min="0"
                            max="100000"
                            step="0.01"
                        >
                    </div>
                    <div class="input-hint">Additional amount above minimum payment</div>
                </div>

                <button type="submit" class="btn-calculate">
                    <span>üìä</span> Calculate Payoff
                </button>
            </form>

            <!-- Results Section -->
            <div class="results" id="results">
                <!-- Warning for minimum payment too low -->
                <div class="warning-box error" id="warningBox" style="display: none;">
                    <span class="warning-icon">‚ö†Ô∏è</span>
                    <div id="warningText">Warning message here</div>
                </div>

                <!-- Hero Result -->
                <div class="result-hero">
                    <div class="result-hero-label">Time to Pay Off</div>
                    <div class="result-hero-value" id="payoffTime">-</div>
                    <div class="result-hero-sub" id="payoffDate">-</div>
                </div>

                <!-- Results Grid -->
                <div class="results-grid">
                    <div class="result-card highlight">
                        <div class="result-card-value" id="totalInterest">$0</div>
                        <div class="result-card-label">Total Interest</div>
                    </div>
                    <div class="result-card">
                        <div class="result-card-value" id="totalPaid">$0</div>
                        <div class="result-card-label">Total Paid</div>
                    </div>
                    <div class="result-card">
                        <div class="result-card-value" id="monthlyPayment">$0</div>
                        <div class="result-card-label">Monthly Payment</div>
                    </div>
                    <div class="result-card">
                        <div class="result-card-value" id="totalPayments">0</div>
                        <div class="result-card-label">Total Payments</div>
                    </div>
                </div>

                <!-- Comparison (with vs without extra payment) -->
                <div class="comparison-box" id="comparisonBox" style="display: none;">
                    <div class="comparison-title">
                        <span>üí∞</span> Extra Payment Savings
                    </div>
                    <div class="comparison-row">
                        <span class="comparison-label">Without extra payment</span>
                        <span class="comparison-value" id="baseTime">-</span>
                    </div>
                    <div class="comparison-row">
                        <span class="comparison-label">With extra payment</span>
                        <span class="comparison-value" id="extraTime">-</span>
                    </div>
                    <div class="comparison-row">
                        <span class="comparison-label">Time saved</span>
                        <span class="comparison-value savings" id="timeSaved">-</span>
                    </div>
                    <div class="comparison-row">
                        <span class="comparison-label">Interest saved</span>
                        <span class="comparison-value savings" id="interestSaved">-</span>
                    </div>
                </div>

                <!-- Payment Schedule -->
                <button type="button" class="schedule-toggle" id="scheduleToggle">
                    <span>üìÖ</span> View Payment Schedule
                    <span class="arrow">‚ñº</span>
                </button>
                <div class="schedule-container" id="scheduleContainer">
                    <table class="schedule-table">
                        <thead>
                            <tr>
                                <th>Month</th>
                                <th>Payment</th>
                                <th>Principal</th>
                                <th>Interest</th>
                                <th>Balance</th>
                            </tr>
                        </thead>
                        <tbody id="scheduleBody">
                            <!-- Schedule rows will be generated here -->
                        </tbody>
                    </table>
                </div>
            </div>
<!-- Usage Instructions --><div class="instructions">
                <h3>üìñ How to Use</h3>
                <ul>
                    <li><strong>Balance:</strong> Enter your current credit card balance</li>
                    <li><strong>APR:</strong> Find this on your statement (typically 15-25%)</li>
                    <li><strong>Minimum Payment:</strong> The minimum amount due each month</li>
                    <li><strong>Extra Payment:</strong> Any additional amount you can pay</li>
                </ul>
            </div>
        </main>
<footer>
            <p>¬© 2026 Free Micro Web Tools. All tools are free to use.</p>
            <div class="footer-links">
                <a href="about.html">About</a>
                <a href="contact.html">Contact</a>
                <a href="privacy.html">Privacy</a>
                <a href="terms.html">Terms</a>
            </div>
        </footer>
    </div>

    <script>
        /**
         * Credit Card Payoff Calculator
         * Calculates time to payoff and total interest paid
         * Pure vanilla JavaScript - client-side only
         */
        (function() {
            'use strict';

            // ========== DOM References ==========
            const payoffForm = document.getElementById('payoffForm');
            const balanceInput = document.getElementById('balance');
            const aprInput = document.getElementById('apr');
            const minPaymentInput = document.getElementById('minPayment');
            const extraPaymentInput = document.getElementById('extraPayment');

            const results = document.getElementById('results');
            const warningBox = document.getElementById('warningBox');
            const warningText = document.getElementById('warningText');

            const payoffTimeEl = document.getElementById('payoffTime');
            const payoffDateEl = document.getElementById('payoffDate');
            const totalInterestEl = document.getElementById('totalInterest');
            const totalPaidEl = document.getElementById('totalPaid');
            const monthlyPaymentEl = document.getElementById('monthlyPayment');
            const totalPaymentsEl = document.getElementById('totalPayments');

            const comparisonBox = document.getElementById('comparisonBox');
            const baseTimeEl = document.getElementById('baseTime');
            const extraTimeEl = document.getElementById('extraTime');
            const timeSavedEl = document.getElementById('timeSaved');
            const interestSavedEl = document.getElementById('interestSaved');

            const scheduleToggle = document.getElementById('scheduleToggle');
            const scheduleContainer = document.getElementById('scheduleContainer');
            const scheduleBody = document.getElementById('scheduleBody');

            // ========== Utility Functions ==========

            /**
             * Format number as currency
             */
            function formatCurrency(amount) {
                return '$' + amount.toLocaleString('en-US', {
                    minimumFractionDigits: 2,
                    maximumFractionDigits: 2
                });
            }

            /**
             * Format months as years and months
             */
            function formatDuration(months) {
                if (months >= 600) {
                    return '50+ years';
                }

                const years = Math.floor(months / 12);
                const remainingMonths = months % 12;

                if (years === 0) {
                    return `${remainingMonths} month${remainingMonths !== 1 ? 's' : ''}`;
                } else if (remainingMonths === 0) {
                    return `${years} year${years !== 1 ? 's' : ''}`;
                } else {
                    return `${years} yr${years !== 1 ? 's' : ''} ${remainingMonths} mo`;
                }
            }

            /**
             * Calculate payoff date from months
             */
            function getPayoffDate(months) {
                const date = new Date();
                date.setMonth(date.getMonth() + months);
                return date.toLocaleDateString('en-US', {
                    month: 'long',
                    year: 'numeric'
                });
            }

            /**
             * Calculate credit card payoff
             * Returns { months, totalInterest, totalPaid, schedule }
             */
            function calculatePayoff(balance, apr, monthlyPayment) {
                const monthlyRate = apr / 100 / 12;
                let currentBalance = balance;
                let totalInterest = 0;
                let months = 0;
                const schedule = [];
                const maxMonths = 600; // 50 year cap

                // Check if payment is too low to ever pay off
                const firstMonthInterest = currentBalance * monthlyRate;
                if (monthlyPayment <= firstMonthInterest) {
                    return {
                        months: Infinity,
                        totalInterest: Infinity,
                        totalPaid: Infinity,
                        schedule: [],
                        error: 'Payment too low'
                    };
                }

                while (currentBalance > 0.01 && months < maxMonths) {
                    months++;
                    
                    // Calculate interest for this month
                    const interest = currentBalance * monthlyRate;
                    totalInterest += interest;

                    // Calculate payment (can't pay more than balance + interest)
                    const payment = Math.min(monthlyPayment, currentBalance + interest);

                    // Calculate principal
                    const principal = payment - interest;

                    // Update balance
                    currentBalance = currentBalance + interest - payment;

                    // Ensure we don't go negative due to floating point
                    if (currentBalance < 0.01) {
                        currentBalance = 0;
                    }

                    // Add to schedule
                    schedule.push({
                        month: months,
                        payment: payment,
                        principal: principal,
                        interest: interest,
                        balance: currentBalance
                    });
                }

                const totalPaid = balance + totalInterest;

                return {
                    months,
                    totalInterest,
                    totalPaid,
                    schedule
                };
            }

            /**
             * Render payment schedule table
             */
            function renderSchedule(schedule) {
                // Limit to first 60 months for display, then show every 12th
                let displaySchedule = [];
                
                if (schedule.length <= 60) {
                    displaySchedule = schedule;
                } else {
                    // Show first 12 months, then yearly summaries
                    displaySchedule = schedule.slice(0, 12);
                    for (let i = 12; i < schedule.length; i += 12) {
                        displaySchedule.push(schedule[i]);
                    }
                    // Always show last month
                    if (schedule.length > 12 && schedule.length % 12 !== 0) {
                        displaySchedule.push(schedule[schedule.length - 1]);
                    }
                }

                scheduleBody.innerHTML = displaySchedule.map(row => `
                    <tr>
                        <td>${row.month}</td>
                        <td>${formatCurrency(row.payment)}</td>
                        <td>${formatCurrency(row.principal)}</td>
                        <td>${formatCurrency(row.interest)}</td>
                        <td>${formatCurrency(row.balance)}</td>
                    </tr>
                `).join('');
            }

            /**
             * Main calculation function
             */
            function calculate() {
                const balance = parseFloat(balanceInput.value);
                const apr = parseFloat(aprInput.value);
                const minPayment = parseFloat(minPaymentInput.value);
                const extraPayment = parseFloat(extraPaymentInput.value) || 0;

                // Validation
                if (isNaN(balance) || balance <= 0) {
                    alert('Please enter a valid balance');
                    return;
                }
                if (isNaN(apr) || apr < 0) {
                    alert('Please enter a valid interest rate');
                    return;
                }
                if (isNaN(minPayment) || minPayment <= 0) {
                    alert('Please enter a valid minimum payment');
                    return;
                }

                // Hide previous warnings
                warningBox.style.display = 'none';

                // Calculate with total payment (min + extra)
                const totalMonthlyPayment = minPayment + extraPayment;
                const result = calculatePayoff(balance, apr, totalMonthlyPayment);

                // Check for error
                if (result.error) {
                    warningBox.style.display = 'flex';
                    warningBox.className = 'warning-box error';
                    warningText.innerHTML = `<strong>Payment too low!</strong> Your payment of ${formatCurrency(totalMonthlyPayment)} doesn't cover the monthly interest. You need to pay at least ${formatCurrency(balance * (apr / 100 / 12) + 1)} per month to make progress.`;
                    
                    payoffTimeEl.textContent = 'Never';
                    payoffDateEl.textContent = 'Payment doesn\'t cover interest';
                    totalInterestEl.textContent = '‚àû';
                    totalPaidEl.textContent = '‚àû';
                    monthlyPaymentEl.textContent = formatCurrency(totalMonthlyPayment);
                    totalPaymentsEl.textContent = '‚àû';

                    comparisonBox.style.display = 'none';
                    scheduleBody.innerHTML = '<tr><td colspan="5" style="text-align:center;color:#ef4444;">Payment too low to calculate schedule</td></tr>';

                    results.classList.add('show');
                    return;
                }

                // Update main results
                payoffTimeEl.textContent = formatDuration(result.months);
                payoffDateEl.textContent = `Paid off by ${getPayoffDate(result.months)}`;
                totalInterestEl.textContent = formatCurrency(result.totalInterest);
                totalPaidEl.textContent = formatCurrency(result.totalPaid);
                monthlyPaymentEl.textContent = formatCurrency(totalMonthlyPayment);
                totalPaymentsEl.textContent = result.months.toLocaleString();

                // Calculate comparison if extra payment is provided
                if (extraPayment > 0) {
                    const baseResult = calculatePayoff(balance, apr, minPayment);
                    
                    if (!baseResult.error) {
                        comparisonBox.style.display = 'block';
                        baseTimeEl.textContent = formatDuration(baseResult.months);
                        extraTimeEl.textContent = formatDuration(result.months);
                        
                        const monthsSaved = baseResult.months - result.months;
                        const interestSaved = baseResult.totalInterest - result.totalInterest;
                        
                        timeSavedEl.textContent = formatDuration(monthsSaved);
                        interestSavedEl.textContent = formatCurrency(interestSaved);
                    } else {
                        comparisonBox.style.display = 'none';
                    }
                } else {
                    comparisonBox.style.display = 'none';
                }

                // Render schedule
                renderSchedule(result.schedule);

                // Show results
                results.classList.add('show');

                // Scroll to results
                setTimeout(() => {
                    results.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }, 100);
            }

            // ========== Event Listeners ==========

            payoffForm.addEventListener('submit', (e) => {
                e.preventDefault();
                calculate();
            });

            scheduleToggle.addEventListener('click', () => {
                scheduleToggle.classList.toggle('open');
                scheduleContainer.classList.toggle('show');
            });

            // Pre-fill with example values on focus if empty
            balanceInput.addEventListener('focus', function() {
                if (!this.value) this.placeholder = '5000';
            });

        })();
    </script>

    <!-- GA4 Event Tracking -->
    <script>
        (function() {
            // Track tool page landing
            gtag('event', 'tool_landed', {
                'tool_name': 'Credit Card Payoff Calculator'
            });
            
            // Track tool usage
            function trackToolUsed(inputCount, customValuesUsed, resultGenerated) {
                gtag('event', 'tool_used', {
                    'tool_name': 'Credit Card Payoff Calculator',
                    'input_count': inputCount || 0,
                    'custom_values_used': customValuesUsed || false,
                    'result_generated': resultGenerated || false
                });
            }
            
            // Expose tracking function globally for this tool
            window.trackToolUsed = trackToolUsed;
        })();
    </script>
</body>
</html>
